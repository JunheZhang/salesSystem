webpackJsonp([3],{"0TJ0":function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(n,l){try{var u=t[n](l),o=u.value}catch(e){return void a(e)}if(!u.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}return r("next")})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,i,f,s,c=a("oRCo"),p=r(c),m=a("yF52"),h=r(m),y=a("Xxa5"),b=r(y),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a("JKaW"),a("Zjie");var E=a("GiK3"),g=r(E),I=a("RH2O"),O=a("KSGD"),_=r(O),x=a("z8xT"),R=r(x),w=a("BCOr"),C=a("0xDb"),D=a("BHCp"),T=r(D),k=a("23Is"),S=r(k),N=a("qJAG"),j=r(N),P=(d=(0,I.connect)(function(e){return{adminId:e.auth.admin.adminId,token:e.auth.admin.token,orders:e.orders.orders,isFetching:e.orders.isFetchingOrders}},function(e){return{loadOrders:function(t,a,r){e((0,w.getAllOrders)(t,a,r))}}}))((s=f=function(e){function t(){var e,a,r,o,d=this;l(this,t);for(var i=arguments.length,f=Array(i),s=0;s<i;s++)f[s]=arguments[s];return a=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={filteredInfo:null,sortedInfo:null},r.loadOrders=function(){var e=n(b.default.mark(function e(t){var a,n,l;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props,n=a.adminId,l=a.token,e.next=3,r.props.loadOrders(n,l,t);case 3:case"end":return e.stop()}},e,d)}));return function(t){return e.apply(this,arguments)}}(),r.handleTableChange=function(e,t,a){r.setState({filteredInfo:t,sortedInfo:a})},r.onSelectorChange=function(e){var t="undefined"!==typeof e.status&&"all"!==e.status?e.status:null,a=e.createTime?e.createTime[0].format("YYYY-MM-DD"):null,n=e.createTime?e.createTime[1].format("YYYY-MM-DD"):null,l=e.userName&&""!==e.userName?e.userName:null,u=e.orderId?parseInt(e.orderId):null,o={status:t,start:a,end:n,userName:l,orderId:u};r.loadOrders(o)},r.renderExpanded=function(e){var t=e.address.city+e.address.address+e.address.streetNumber,a=t+"   "+e.address.consignee+"   "+e.address.phone;return g.default.createElement("div",null,g.default.createElement("p",null,"\u7528\u6237\u6536\u8d27\u5730\u5740\uff1a ",a),g.default.createElement("h4",null,"\u5546\u54c1\uff1a"),e.orderDetails.length>0?e.orderDetails.map(function(e){return g.default.createElement(j.default,{key:e.goodId,detail:e})}):null)},o=a,u(r,o)}return o(t,e),v(t,[{key:"componentDidMount",value:function(){this.loadOrders()}},{key:"render",value:function(){var e=this.props.isFetching,t=this.props.orders,a=this.state,r=a.filteredInfo,n=a.sortedInfo;r=r||{},n=n||{};var l=[{title:"id",dataIndex:"orderId",key:"orderId",sorter:function(e,t){return e.orderId-t.orderId},sortOrder:"orderId"===n.columnKey&&n.order},{title:"\u7528\u6237id",dataIndex:"userId",key:"userId"},{title:"\u603b\u4ef7",dataIndex:"amount",key:"amount"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t){return g.default.createElement(S.default,{status:e})},filters:[{text:"\u672a\u53d1\u8d27",value:"0"},{text:"\u914d\u9001\u4e2d",value:"1"},{text:"\u5df2\u5b8c\u6210",value:"2"},{text:"\u9000\u6b3e\u4e2d",value:"3"},{text:"\u9000\u6b3e\u6210\u529f",value:"-1"},{text:"\u9000\u6b3e\u5931\u8d25",value:"-2"}],filteredValue:r.status||null,onFilter:function(e,t){return t.status===parseInt(e,10)}},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"createTime",render:function(e,t){return g.default.createElement("span",null,(0,C.dateFormat)(new Date(e),"yyyy-MM-dd hh:ss"))}},{title:"\u5907\u6ce8",dataIndex:"remarks",key:"remarks"}];return g.default.createElement(p.default.Content,null,g.default.createElement(R.default,{minus:!0},g.default.createElement(T.default,{handleSelectorChange:this.onSelectorChange}),g.default.createElement(R.default.Body,{type:"light"},g.default.createElement(h.default,{rowKey:function(e){return e.orderId},dataSource:t,expandedRowRender:this.renderExpanded,columns:l,loading:e,bordered:!0,onChange:this.handleTableChange}))))}}]),t}(g.default.Component),f.propTypes={adminId:_.default.number.isRequired,token:_.default.string.isRequired,orders:_.default.array.isRequired,isFetching:_.default.bool.isRequired,loadOrders:_.default.func.isRequired},i=s))||i;t.default=P},"23Is":function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e){var t,a=e.status,r=e.prefixCls,l=e.className,u="";u=0===a?"\u672a\u53d1\u8d27":1===a?"\u914d\u9001\u4e2d":2===a?"\u5df2\u5b8c\u6210":3===a?"\u9000\u6b3e\u4e2d":-1===a?"\u9000\u6b3e\u6210\u529f":"\u9000\u6b3e\u5931\u8d25";var d=(0,s.default)(l,(t={},n(t,r+"-success",2===a),n(t,r+"-error",3===a),n(t,r+"-warning",0===a),n(t,""+r,1===a),t));return o.default.createElement("span",{className:d},u)}Object.defineProperty(t,"__esModule",{value:!0});var u=a("GiK3"),o=r(u),d=a("KSGD"),i=r(d),f=a("HW6M"),s=r(f);l.propTypes={status:i.default.number.isRequired},l.defaultProps={prefixCls:"status"},t.default=l},BHCp:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,d,i,f,s=a("0b0c"),c=r(s),p=a("IidI"),m=r(p),h=a("sRCy"),y=r(h),b=a("G3dI"),v=r(b),E=a("uuhB"),g=r(E),I=a("wgAv"),O=r(I),_=a("XSlN"),x=r(_),R=a("NJOH"),w=r(R),C=a("37+n"),D=r(C),T=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a("1szz"),a("du7Z"),a("mNLB"),a("Dp5J"),a("4yHo"),a("uMhn"),a("4WQ2"),a("RWXa"),a("onAH");var k=a("GiK3"),S=r(k),N=a("KSGD"),j=r(N),P=a("z8xT"),M=r(P),q=a("qI5z"),G=D.default.Item,F=w.default.Option,K=(o=D.default.create())((f=i=function(e){function t(){var e,a,r,u;n(this,t);for(var o=arguments.length,d=Array(o),i=0;i<o;i++)d[i]=arguments[i];return a=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.handleSubmit=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){e||("all"===t.categoryId&&(t.categoryId=null),"all"===t.status&&(t.status=null),r.props.handleSelectorChange(t))})},r.handleReset=function(){r.props.form.setFieldsValue({goodId:void 0,goodName:"",categoryId:"all",status:"all"})},r.onDateChange=function(e,t){console.log(e,t)},r.handleStatusChange=function(e){r.props.form.setFieldsValue({status:e})},u=a,l(r,u)}return u(t,e),T(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator;return S.default.createElement(M.default.Header,{type:"light"},S.default.createElement(x.default,null,S.default.createElement(x.default.Item,null,"\u4e3b\u9875"),S.default.createElement(x.default.Item,null,"\u8ba2\u5355\u7ba1\u7406"),S.default.createElement(x.default.Item,null,"\u8ba2\u5355\u67e5\u8be2")),S.default.createElement("h2",null,"\u8ba2\u5355\u67e5\u8be2"),S.default.createElement("p",null,"\u5c55\u793a\u5168\u90e8\u8ba2\u5355\u4fe1\u606f\uff0c\u7ec4\u5408\u67e5\u8be2\u8ba2\u5355\u4fe1\u606f"),S.default.createElement(O.default,{style:{marginTop:"10px",marginBottom:"30px"}}),S.default.createElement(D.default,{className:"form-search",onSubmit:this.handleSubmit},S.default.createElement(c.default,{gutter:24},S.default.createElement(v.default,{span:4},S.default.createElement(G,{label:"id"},t("orderId")(S.default.createElement(g.default,{type:"number"})))),S.default.createElement(v.default,{span:5},S.default.createElement(G,{className:"form-flex-wrapper",label:"\u7528\u6237\u540d\u79f0"},t("userName",{initialValue:""})(S.default.createElement(g.default,{type:"text"})))),S.default.createElement(v.default,{span:7},S.default.createElement(G,{label:"\u65f6\u95f4:"},t("createTime",{initialValue:""})(S.default.createElement(y.default.RangePicker,{style:{marginLeft:"10px"}})))),S.default.createElement(v.default,{span:4},S.default.createElement(G,{label:"\u8ba2\u5355\u72b6\u6001:"},t("status",{initialValue:"all"})(S.default.createElement(w.default,{onChange:this.handleStatusChange},S.default.createElement(F,{value:"all"},"\u5168\u90e8"),S.default.createElement(F,{value:q.ORDER_WAIT},"\u5f85\u53d1\u8d27"),S.default.createElement(F,{value:q.ORDER_DISPATCHING},"\u914d\u9001\u4e2d"),S.default.createElement(F,{value:q.ORDER_FINISH},"\u5df2\u5b8c\u6210"),S.default.createElement(F,{value:q.ORDER_REFUNDING},"\u9000\u6b3e\u4e2d"))))),S.default.createElement(v.default,{span:4,style:{textAlign:"right"}},S.default.createElement(m.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22"),S.default.createElement(O.default,{type:"vertical"}),S.default.createElement(m.default,{type:"dashed",onClick:this.handleReset},"\u91cd\u7f6e")))))}}]),t}(S.default.Component),i.propTypes={handleSelectorChange:j.default.func.isRequired},d=f))||d;t.default=K},qJAG:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.detail;return f.default.createElement(u.default,null,f.default.createElement(d.default,{span:7},"\u7f16\u53f7\uff1a ",t.goodId),f.default.createElement(d.default,{span:7},"\u540d\u79f0\uff1a",t.good.goodName),f.default.createElement(d.default,{span:7},"\u6570\u91cf\uff1a",t.count))}Object.defineProperty(t,"__esModule",{value:!0});var l=a("0b0c"),u=r(l),o=a("G3dI"),d=r(o);a("1szz"),a("Dp5J");var i=a("GiK3"),f=r(i),s=a("KSGD"),c=r(s);n.propTypes={detail:c.default.shape({goodId:c.default.number.isRequired,good:c.default.shape({goodName:c.default.string.isRequired}),count:c.default.number.isRequired}).isRequired},t.default=n}});
//# sourceMappingURL=3.14a14f7e.chunk.js.map