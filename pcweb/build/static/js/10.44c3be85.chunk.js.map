{"version":3,"sources":["../static/js/10.44c3be85.chunk.js","containers/Users/UpdateUserModal.js","containers/Users/index.js","containers/Users/UpdatePassWord.js"],"names":["webpackJsonp","MHac","module","exports","__webpack_require__","Object","defineProperty","value","default","undefined","_dec","_dec2","_class","_class2","_temp2","_modal","_modal2","_interopRequireDefault","_input","_input2","_regenerator","_regenerator2","_message2","_message3","_form","_form2","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","FormItem","Item","UpdateUserModal","connect","state","adminId","auth","admin","token","dispatch","authError","errorMessage","fetchUsers","create","handleSubmit","e","preventDefault","form","validateFields","err","values","console","log","updateUser","user","userService","update","res","success","message","response","status","data","error","this","visible","handleCancel","getFieldDecorator","userId","userName","nickName","title","okText","cancelText","onCancel","onOk","layout","label","initialValue","type","disabled","rules","required","max","min","React","Component","propTypes","PropTypes","bool","isRequired","func","object","NIZN","_layout","_layout2","_table","_table2","_breadcrumb","_breadcrumb2","_divider","_divider2","_button","_button2","Users","isFetching","users","filteredInfo","sortedInfo","updateFormVisible","updateFormValue","updatePasswordVisible","handleUpdateOpen","setState","handleAlterOpen","handleAlterSuccess","handleUpdateSuccess","handleClose","setUpdateFormRef","updateForm","handleChange","pagination","filters","sorter","columns","dataIndex","a","b","sortOrder","columnKey","order","text","filteredValue","sex","onFilter","recored","render","record","onClick","Content","minus","Header","Body","rowKey","dataSource","loading","bordered","onChange","ref","number","string","array","nKyF","UpdatePassWord","passWord"],"mappings":"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","file":"static/js/10.44c3be85.chunk.js","sourcesContent":["webpackJsonp([10],{\n\n/***/ \"MHac\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.default=undefined;var _modal=__webpack_require__(\"vaID\");var _modal2=_interopRequireDefault(_modal);var _input=__webpack_require__(\"uuhB\");var _input2=_interopRequireDefault(_input);var _regenerator=__webpack_require__(\"Xxa5\");var _regenerator2=_interopRequireDefault(_regenerator);var _message2=__webpack_require__(\"1cZb\");var _message3=_interopRequireDefault(_message2);var _form=__webpack_require__(\"37+n\");var _form2=_interopRequireDefault(_form);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _dec,_dec2,_class,_class2,_temp2;__webpack_require__(\"Y2f6\");__webpack_require__(\"4yHo\");__webpack_require__(\"N3Nc\");__webpack_require__(\"onAH\");var _react=__webpack_require__(\"GiK3\");var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(\"KSGD\");var _propTypes2=_interopRequireDefault(_propTypes);var _reactRedux=__webpack_require__(\"RH2O\");var _index=__webpack_require__(\"BCOr\");var _userService=__webpack_require__(\"ZOX0\");var _userService2=_interopRequireDefault(_userService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=_form2.default.Item;var UpdateUserModal=(_dec=(0,_reactRedux.connect)(function(state){return{adminId:state.auth.admin.adminId,token:state.auth.admin.token};},function(dispatch){return{authError:function authError(errorMessage){return dispatch((0,_index.authError)(errorMessage));},fetchUsers:function fetchUsers(adminId,token){return dispatch((0,_index.fetchUsers)(adminId,token));}};}),_dec2=_form2.default.create(),_dec(_class=_dec2(_class=(_temp2=_class2=function(_React$Component){_inherits(UpdateUserModal,_React$Component);function UpdateUserModal(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,UpdateUserModal);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UpdateUserModal.__proto__||Object.getPrototypeOf(UpdateUserModal)).call.apply(_ref,[this].concat(args))),_this),_this.handleSubmit=function(e){e.preventDefault();_this.props.form.validateFields(function(err,values){console.log(values);if(err){return;}// 调用本类更新方法\n_this.updateUser(values);});},_this.updateUser=function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regenerator2.default.mark(function _callee(user){var _this$props,adminId,token,res,errorMessage,_errorMessage,_errorMessage2;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,adminId=_this$props.adminId,token=_this$props.token;_context.prev=1;//调用更新 api\nconsole.log(\"update user\");_context.next=5;return _userService2.default.update(adminId,token,user);case 5:res=_context.sent;_message3.default.success('修改成功');_this.props.fetchUsers(adminId,token);_this.props.handleSubmit();_context.next=19;break;case 11:_context.prev=11;_context.t0=_context['catch'](1);console.log(\"err\");console.log(_context.t0);if(_context.t0.message===undefined){errorMessage='服务器出错啦，请耐心等待，麻烦很耐心的等待一年，谢谢';_this.props.authError(errorMessage);}if(!_context.t0.response){_this.props.authError(_context.t0);}if(_context.t0.response.status===401){_errorMessage='您的登录已过期，请重新登录';_this.props.authError(_errorMessage);}// 修改不成功\nif(_context.t0.response.status===400||_context.t0.response.status===404){_errorMessage2=_context.t0.response.data.message;_message3.default.error(_errorMessage2);}case 19:case'end':return _context.stop();}}},_callee,_this2,[[1,11]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),_temp),_possibleConstructorReturn(_this,_ret);}// 提交事件\n_createClass(UpdateUserModal,[{key:'render',value:function render(){var _props=this.props,visible=_props.visible,handleCancel=_props.handleCancel,handleSubmit=_props.handleSubmit,form=_props.form,value=_props.value;var getFieldDecorator=form.getFieldDecorator;//字段\nvar userId=value?value.userId:'';var userName=value?value.userName:'';var nickName=value?value.nickName:'';return _react2.default.createElement(_modal2.default,{visible:visible,title:'\\u4FEE\\u6539\\u7528\\u6237\\u4FE1\\u606F',okText:'\\u4FEE\\u6539',cancelText:'\\u53D6\\u6D88',onCancel:handleCancel,onOk:this.handleSubmit},_react2.default.createElement(_form2.default,{layout:'vertical'},_react2.default.createElement(FormItem,{label:'id'},getFieldDecorator('userId',{initialValue:userId})(_react2.default.createElement(_input2.default,{type:'text',disabled:true}))),_react2.default.createElement(FormItem,{label:'\\u7528\\u6237\\u8D26\\u53F7'},getFieldDecorator('userName',{rules:[{required:true,message:'请输入账号'},{max:100,min:1,message:'用户账号不能超过100个字符'}],initialValue:userName})(_react2.default.createElement(_input2.default,{type:'text'}))),_react2.default.createElement(FormItem,{label:'\\u7528\\u6237\\u6635\\u79F0'},getFieldDecorator('nickName',{rules:[{required:true,message:'请输入昵称'},{max:100,min:1,message:'用户昵称不能超过100个字符'}],initialValue:nickName})(_react2.default.createElement(_input2.default,{type:'text'})))));}}]);return UpdateUserModal;}(_react2.default.Component),_class2.propTypes={visible:_propTypes2.default.bool.isRequired,handleCancel:_propTypes2.default.func.isRequired,handleSubmit:_propTypes2.default.func.isRequired,value:_propTypes2.default.object.isRequired},_temp2))||_class)||_class);exports.default=UpdateUserModal;\n\n/***/ }),\n\n/***/ \"NIZN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.default=undefined;var _layout=__webpack_require__(\"oRCo\");var _layout2=_interopRequireDefault(_layout);var _table=__webpack_require__(\"yF52\");var _table2=_interopRequireDefault(_table);var _breadcrumb=__webpack_require__(\"XSlN\");var _breadcrumb2=_interopRequireDefault(_breadcrumb);var _divider=__webpack_require__(\"wgAv\");var _divider2=_interopRequireDefault(_divider);var _button=__webpack_require__(\"IidI\");var _button2=_interopRequireDefault(_button);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _dec,_class,_class2,_temp2;__webpack_require__(\"JKaW\");__webpack_require__(\"Zjie\");__webpack_require__(\"4WQ2\");__webpack_require__(\"uMhn\");__webpack_require__(\"du7Z\");var _react=__webpack_require__(\"GiK3\");var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(\"KSGD\");var _propTypes2=_interopRequireDefault(_propTypes);var _reactRedux=__webpack_require__(\"RH2O\");var _Panel=__webpack_require__(\"z8xT\");var _Panel2=_interopRequireDefault(_Panel);var _UpdateUserModal=__webpack_require__(\"MHac\");var _UpdateUserModal2=_interopRequireDefault(_UpdateUserModal);var _UpdatePassWord=__webpack_require__(\"nKyF\");var _UpdatePassWord2=_interopRequireDefault(_UpdatePassWord);var _actions=__webpack_require__(\"BCOr\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Users=(_dec=(0,_reactRedux.connect)(function(state){return{adminId:state.auth.admin.adminId,token:state.auth.admin.token,isFetching:state.users.isFetching,users:state.users.users};},function(dispatch){return{fetchUsers:function fetchUsers(adminId,token){dispatch((0,_actions.fetchUsers)(adminId,token));}};}),_dec(_class=(_temp2=_class2=function(_React$Component){_inherits(Users,_React$Component);function Users(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Users);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Users.__proto__||Object.getPrototypeOf(Users)).call.apply(_ref,[this].concat(args))),_this),_this.state={filteredInfo:null,sortedInfo:null,updateFormVisible:false,updateFormValue:{},updatePasswordVisible:false},_this.handleUpdateOpen=function(value){_this.setState({updateFormVisible:true,updateFormValue:value});},_this.handleAlterOpen=function(value){_this.setState({updatePasswordVisible:true,updateFormValue:value});},_this.handleAlterSuccess=function(){_this.setState({updatePasswordVisible:false});},_this.handleUpdateSuccess=function(){_this.setState({updateFormVisible:false});},_this.handleClose=function(){_this.setState({updateFormVisible:false,updatePasswordVisible:false});},_this.setUpdateFormRef=function(form){_this.updateForm=form;},_this.handleChange=function(pagination,filters,sorter){_this.setState({filteredInfo:filters,sortedInfo:sorter});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Users,[{key:'componentDidMount',value:function componentDidMount(){this.props.fetchUsers(this.props.adminId,this.props.token);}},{key:'render',value:function render(){var _this2=this;var isFetching=this.props.isFetching;var users=this.props.users;var _state=this.state,filteredInfo=_state.filteredInfo,sortedInfo=_state.sortedInfo;filteredInfo=filteredInfo||{};sortedInfo=sortedInfo||{};var columns=[{title:'id',dataIndex:'userId',key:'userId',sorter:function sorter(a,b){return a.userId-b.userId;},sortOrder:sortedInfo.columnKey==='userId'&&sortedInfo.order},{title:'账号',dataIndex:'userName',key:'userName'},{title:'密码',dataIndex:'passWord',key:'passWord'},{title:'昵称',dataIndex:'nickName',key:'nickName'},{title:'手机号码',dataIndex:'phone',key:'phone'},{title:'性别',dataIndex:'sex',key:'sex',filters:[{text:'男',value:'MAN'},{text:'女',value:'WOMAN'}],filteredValue:filteredInfo.sex||null,onFilter:function onFilter(value,recored){return recored.sex===value;}},{title:'操作',key:'action',render:function render(text,record){return _react2.default.createElement('span',null,_react2.default.createElement(_button2.default,{type:'primary',onClick:function onClick(){return _this2.handleUpdateOpen(record);}},'\\u4FEE\\u6539\\u4FE1\\u606F'),_react2.default.createElement(_divider2.default,{type:'vertical'}),_react2.default.createElement(_button2.default,{type:'danger',onClick:function onClick(){return _this2.handleAlterOpen(record);}},'\\u4FEE\\u6539\\u5BC6\\u7801'));}}];return _react2.default.createElement(_layout2.default.Content,null,_react2.default.createElement(_Panel2.default,{minus:true},_react2.default.createElement(_Panel2.default.Header,{type:'light'},_react2.default.createElement(_breadcrumb2.default,null,_react2.default.createElement(_breadcrumb2.default.Item,null,'\\u4E3B\\u9875'),_react2.default.createElement(_breadcrumb2.default.Item,null,'\\u7528\\u6237\\u5217\\u8868')),_react2.default.createElement('h2',null,'\\u7528\\u6237\\u5217\\u8868'),_react2.default.createElement('p',null,'\\u7528\\u6237\\u4FE1\\u606F\\u5C55\\u793A\\uFF0C\\u53EF\\u4EE5\\u8FDB\\u884C\\u4FEE\\u6539\\u7528\\u6237\\u4E2A\\u4EBA\\u4FE1\\u606F\\uFF0C\\u4FEE\\u6539\\u7528\\u6237\\u5BC6\\u7801\\u64CD\\u4F5C')),_react2.default.createElement(_Panel2.default.Body,{type:'light'},_react2.default.createElement(_table2.default,{rowKey:function rowKey(record){return record.userId;},dataSource:users,columns:columns,loading:isFetching,bordered:true,onChange:this.handleChange}),_react2.default.createElement(_UpdateUserModal2.default,{value:this.state.updateFormValue,ref:this.setUpdateFormRef,visible:this.state.updateFormVisible,handleSubmit:this.handleUpdateSuccess,handleCancel:this.handleClose}),_react2.default.createElement(_UpdatePassWord2.default,{visible:this.state.updatePasswordVisible,value:this.state.updateFormValue,handleSubmit:this.handleAlterSuccess,handleCancel:this.handleClose}))));}}]);return Users;}(_react2.default.Component),_class2.propTypes={adminId:_propTypes2.default.number.isRequired,token:_propTypes2.default.string.isRequired,isFetching:_propTypes2.default.bool.isRequired,users:_propTypes2.default.array.isRequired,fetchUsers:_propTypes2.default.func.isRequired},_temp2))||_class);exports.default=Users;\n\n/***/ }),\n\n/***/ \"nKyF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.default=undefined;var _modal=__webpack_require__(\"vaID\");var _modal2=_interopRequireDefault(_modal);var _input=__webpack_require__(\"uuhB\");var _input2=_interopRequireDefault(_input);var _regenerator=__webpack_require__(\"Xxa5\");var _regenerator2=_interopRequireDefault(_regenerator);var _message2=__webpack_require__(\"1cZb\");var _message3=_interopRequireDefault(_message2);var _form=__webpack_require__(\"37+n\");var _form2=_interopRequireDefault(_form);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _dec,_dec2,_class,_class2,_temp2;__webpack_require__(\"Y2f6\");__webpack_require__(\"4yHo\");__webpack_require__(\"N3Nc\");__webpack_require__(\"onAH\");var _react=__webpack_require__(\"GiK3\");var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(\"KSGD\");var _propTypes2=_interopRequireDefault(_propTypes);var _reactRedux=__webpack_require__(\"RH2O\");var _index=__webpack_require__(\"BCOr\");var _userService=__webpack_require__(\"ZOX0\");var _userService2=_interopRequireDefault(_userService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=_form2.default.Item;var UpdatePassWord=(_dec=(0,_reactRedux.connect)(function(state){return{adminId:state.auth.admin.adminId,token:state.auth.admin.token};},function(dispatch){return{authError:function authError(errorMessage){return dispatch((0,_index.authError)(errorMessage));},fetchUsers:function fetchUsers(adminId,token){return dispatch((0,_index.fetchUsers)(adminId,token));}};}),_dec2=_form2.default.create(),_dec(_class=_dec2(_class=(_temp2=_class2=function(_React$Component){_inherits(UpdatePassWord,_React$Component);function UpdatePassWord(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,UpdatePassWord);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UpdatePassWord.__proto__||Object.getPrototypeOf(UpdatePassWord)).call.apply(_ref,[this].concat(args))),_this),_this.handleSubmit=function(e){e.preventDefault();_this.props.form.validateFields(function(err,values){console.log(values);if(err){return;}// 调用本类更新方法\n_this.updateUser(values);});},_this.updateUser=function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regenerator2.default.mark(function _callee(user){var _this$props,adminId,token,res,errorMessage,_errorMessage,_errorMessage2;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,adminId=_this$props.adminId,token=_this$props.token;_context.prev=1;_context.next=4;return _userService2.default.update(adminId,token,user);case 4:res=_context.sent;_message3.default.success('修改成功');_this.props.fetchUsers(adminId,token);_this.props.handleSubmit();_context.next=16;break;case 10:_context.prev=10;_context.t0=_context['catch'](1);if(_context.t0.message===undefined){errorMessage='服务器出错啦，请耐心等待，麻烦很耐心的等待一年，谢谢';_this.props.authError(errorMessage);}if(!_context.t0.response){_this.props.authError(_context.t0);}if(_context.t0.response.status===401){_errorMessage='您的登录已过期，请重新登录';_this.props.authError(_errorMessage);}// 修改不成功\nif(_context.t0.response.status===400||_context.t0.response.status===404){_errorMessage2=_context.t0.response.data.message;_message3.default.error(_errorMessage2);}case 16:case'end':return _context.stop();}}},_callee,_this2,[[1,10]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),_temp),_possibleConstructorReturn(_this,_ret);}// 提交事件\n_createClass(UpdatePassWord,[{key:'render',value:function render(){var _props=this.props,visible=_props.visible,handleCancel=_props.handleCancel,form=_props.form,value=_props.value;var getFieldDecorator=form.getFieldDecorator;//字段\nvar userId=value?value.userId:'';var userName=value?value.userName:'';var passWord=value?value.passWord:'';return _react2.default.createElement(_modal2.default,{visible:visible,title:'\\u4FEE\\u6539\\u7528\\u6237\\u4FE1\\u606F',okText:'\\u4FEE\\u6539',cancelText:'\\u53D6\\u6D88',onCancel:handleCancel,onOk:this.handleSubmit},_react2.default.createElement(_form2.default,{layout:'vertical'},_react2.default.createElement(FormItem,{label:'id'},getFieldDecorator('userId',{initialValue:userId})(_react2.default.createElement(_input2.default,{type:'text',disabled:true}))),_react2.default.createElement(FormItem,{label:'\\u7528\\u6237\\u8D26\\u53F7'},getFieldDecorator('userName',{initialValue:userName})(_react2.default.createElement(_input2.default,{type:'text',disabled:true}))),_react2.default.createElement(FormItem,{label:'\\u5BC6\\u7801'},getFieldDecorator('passWord',{rules:[{required:true,message:'请输入密码'},{max:30,min:1,message:'用户密码不能超过30个字符'}],initialValue:passWord})(_react2.default.createElement(_input2.default,{type:'text'})))));}}]);return UpdatePassWord;}(_react2.default.Component),_class2.propTypes={visible:_propTypes2.default.bool.isRequired,handleCancel:_propTypes2.default.func.isRequired,handleSubmit:_propTypes2.default.func.isRequired,value:_propTypes2.default.object.isRequired},_temp2))||_class)||_class);exports.default=UpdatePassWord;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/10.44c3be85.chunk.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {\n  Button,\n  message,\n  Modal,\n  Form,\n  Input\n} from 'antd';\nimport {\n  authError,\n  fetchUsers\n} from '../../actions/index';\n\nimport userService from '../../services/userService';\n\n\nconst FormItem = Form.Item\n\n\n@connect(\n  state => ({\n    adminId: state.auth.admin.adminId,\n    token: state.auth.admin.token\n  }),\n  dispatch => ({\n    authError: (errorMessage) => dispatch(authError(errorMessage)),\n    fetchUsers: (adminId,token) => dispatch(fetchUsers(adminId,token))\n  })\n)\n\n@Form.create()\n\nexport default class UpdateUserModal extends React.Component {\n  static propTypes = {\n    visible: PropTypes.bool.isRequired,\n    handleCancel: PropTypes.func.isRequired,\n    handleSubmit: PropTypes.func.isRequired,\n    value: PropTypes.object.isRequired\n  }\n\n  // 提交事件\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    this.props.form.validateFields((err, values) => {\n      console.log(values)\n      if (err) {\n        return;\n      }\n\n      // 调用本类更新方法\n      this.updateUser(values);\n\n    })\n  }\n\n  updateUser = async (user) => {\n    const {\n      adminId,\n      token\n    } = this.props\n\n    try {\n      //调用更新 api\n      console.log(\"update user\");\n      const res = await userService.update(\n        adminId,\n        token,\n        user\n      )\n      message.success('修改成功');\n      this.props.fetchUsers(adminId,token);\n      this.props.handleSubmit();\n    } catch (err) {\n      console.log(\"err\");\n      console.log(err);\n      if (err.message === undefined) {\n        const errorMessage = '服务器出错啦，请耐心等待，麻烦很耐心的等待一年，谢谢'\n        this.props.authError(errorMessage)\n      }\n      if (!err.response) {\n        this.props.authError(err);\n      }\n      if (err.response.status === 401) {\n        const errorMessage = '您的登录已过期，请重新登录'\n        this.props.authError(errorMessage)\n      }\n      // 修改不成功\n      if (err.response.status === 400 || err.response.status === 404) {\n        const errorMessage = err.response.data.message\n        message.error(errorMessage)\n      }\n    }\n  }\n\n  render() {\n    const {\n      visible,\n      handleCancel,\n      handleSubmit,\n      form,\n      value\n    } = this.props\n\n    const {getFieldDecorator} = form;//字段\n    const userId = value ? value.userId : ''\n    const userName = value ? value.userName : ''\n    const nickName = value ? value.nickName : ''\n\n    return (\n      <Modal\n        visible={visible}\n        title=\"修改用户信息\"\n        okText=\"修改\"\n        cancelText=\"取消\"\n        onCancel={handleCancel}\n        onOk={this.handleSubmit}\n      >\n        <Form layout=\"vertical\">\n          <FormItem label=\"id\">\n            {getFieldDecorator('userId', {\n              initialValue: userId\n            })(\n              <Input type=\"text\" disabled/>\n            )}\n          </FormItem>\n          <FormItem label=\"用户账号\">\n            {getFieldDecorator('userName', {\n              rules: [{\n                required: true,\n                message: '请输入账号'\n              }, {\n                max: 100,\n                min: 1,\n                message: '用户账号不能超过100个字符'\n              }],\n              initialValue: userName\n            })(\n              <Input type=\"text\"/>\n            )}\n          </FormItem>\n          <FormItem label=\"用户昵称\">\n            {getFieldDecorator('nickName', {\n              rules: [{\n                required: true,\n                message: '请输入昵称'\n              }, {\n                max: 100,\n                min: 1,\n                message: '用户昵称不能超过100个字符'\n              }],\n              initialValue: nickName\n            })(\n              <Input type=\"text\"/>\n            )}\n          </FormItem>\n        </Form>\n      </Modal>\n    )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Users/UpdateUserModal.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Panel from '../../components/Panel';\nimport UpdateUserModal from './UpdateUserModal';\nimport UpdatePassWord from './UpdatePassWord';\nimport {\n  Table,\n  Button,\n  Divider,\n  Layout,\n  Breadcrumb,\n  Spin\n} from 'antd';\nimport {\n  fetchUsers\n} from '../../actions';\n\n@connect(\n  state => ({\n    adminId: state.auth.admin.adminId,\n    token: state.auth.admin.token,\n    isFetching: state.users.isFetching,\n    users: state.users.users\n  }),\n  dispatch => ({\n    fetchUsers: (adminId, token) => {\n      dispatch(fetchUsers(adminId, token))\n    }\n  })\n)\nexport default class Users extends React.Component {\n  state = {\n    filteredInfo: null,\n    sortedInfo: null,\n    updateFormVisible: false,\n    updateFormValue: {},\n    updatePasswordVisible: false\n  }\n\n  static propTypes = {\n    adminId: PropTypes.number.isRequired,\n    token: PropTypes.string.isRequired,\n    isFetching: PropTypes.bool.isRequired,\n    users: PropTypes.array.isRequired,\n    fetchUsers: PropTypes.func.isRequired,\n  }\n\n  handleUpdateOpen = (value) => {\n    this.setState({\n      updateFormVisible: true,\n      updateFormValue: value\n    })\n  }\n\n  handleAlterOpen = (value) => {\n    this.setState({\n      updatePasswordVisible: true,\n      updateFormValue: value\n    })\n  }\n\n  handleAlterSuccess = () => {\n    this.setState({\n      updatePasswordVisible: false\n    })\n  }\n\n  handleUpdateSuccess = () => {\n    this.setState({\n      updateFormVisible: false\n    })\n  }\n\n  handleClose = () => {\n    this.setState({\n      updateFormVisible: false,\n      updatePasswordVisible: false\n    })\n  }\n\n  setUpdateFormRef = (form) =>{\n    this.updateForm = form\n  }\n\n  componentDidMount() {\n    this.props.fetchUsers(this.props.adminId, this.props.token)\n  }\n\n  handleChange = (pagination, filters, sorter) => {\n    this.setState({\n      filteredInfo: filters,\n      sortedInfo: sorter\n    })\n  }\n\n  render() {\n    const {\n      isFetching\n    } = this.props\n\n    let { users } = this.props\n    let {\n      filteredInfo,\n      sortedInfo\n    } = this.state\n\n    filteredInfo = filteredInfo || {}\n    sortedInfo = sortedInfo || {}\n\n    const columns =[{\n      title: 'id',\n      dataIndex: 'userId',\n      key: 'userId',\n      sorter: (a, b) => a.userId - b.userId,\n      sortOrder: sortedInfo.columnKey === 'userId' && sortedInfo.order\n    }, {\n      title: '账号',\n      dataIndex: 'userName',\n      key: 'userName'\n    }, {\n      title: '密码',\n      dataIndex: 'passWord',\n      key: 'passWord'\n    }, {\n      title: '昵称',\n      dataIndex: 'nickName',\n      key: 'nickName'\n    }, {\n      title: '手机号码',\n      dataIndex: 'phone',\n      key: 'phone'\n    }, {\n      title: '性别',\n      dataIndex: 'sex',\n      key: 'sex',\n      filters: [\n        { text: '男', value: 'MAN' },\n        { text: '女', value: 'WOMAN' }\n      ],\n      filteredValue: filteredInfo.sex || null,\n      onFilter: (value, recored) => recored.sex === value\n    }, {\n      title: '操作',\n      key: 'action',\n      render: (text, record) => (\n        <span>\n          <Button type=\"primary\" onClick={() => this.handleUpdateOpen(record)}>\n            修改信息\n          </Button>\n          <Divider type=\"vertical\" />\n          <Button type=\"danger\" onClick={() => this.handleAlterOpen(record)}>\n            修改密码\n          </Button>\n        </span>\n      )\n    }]\n\n    return (\n      <Layout.Content>\n        <Panel minus>\n          <Panel.Header type=\"light\">\n            <Breadcrumb>\n              <Breadcrumb.Item>主页</Breadcrumb.Item>\n              <Breadcrumb.Item>用户列表</Breadcrumb.Item>\n            </Breadcrumb>\n            <h2>用户列表</h2>\n            <p>用户信息展示，可以进行修改用户个人信息，修改用户密码操作</p>\n          </Panel.Header>\n          <Panel.Body type=\"light\">\n            <Table\n              rowKey={record => record.userId}\n              dataSource={users}\n              columns={columns}\n              loading={isFetching}\n              bordered\n              onChange={this.handleChange}\n            />\n            <UpdateUserModal\n              value={this.state.updateFormValue}\n              ref={this.setUpdateFormRef}\n              visible={this.state.updateFormVisible}\n              handleSubmit={this.handleUpdateSuccess}\n              handleCancel={this.handleClose}\n            />\n            <UpdatePassWord\n              visible={this.state.updatePasswordVisible}\n              value={this.state.updateFormValue}\n              handleSubmit={this.handleAlterSuccess}\n              handleCancel={this.handleClose}\n            />\n          </Panel.Body>\n        </Panel>\n      </Layout.Content>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Users/index.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {\n  Button,\n  message,\n  Modal,\n  Form,\n  Input\n} from 'antd';\nimport {\n  authError,\n  fetchUsers\n} from '../../actions/index';\n\nimport userService from '../../services/userService';\n\n\nconst FormItem = Form.Item\n\n\n@connect(\n  state => ({\n    adminId: state.auth.admin.adminId,\n    token: state.auth.admin.token\n  }),\n  dispatch => ({\n    authError: (errorMessage) => dispatch(authError(errorMessage)),\n    fetchUsers: (adminId,token) => dispatch(fetchUsers(adminId,token))\n  })\n)\n\n@Form.create()\n\nexport default class UpdatePassWord extends React.Component {\n  static propTypes = {\n    visible: PropTypes.bool.isRequired,\n    handleCancel: PropTypes.func.isRequired,\n    handleSubmit: PropTypes.func.isRequired,\n    value: PropTypes.object.isRequired\n  }\n\n  // 提交事件\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    this.props.form.validateFields((err, values) => {\n      console.log(values)\n      if (err) {\n        return;\n      }\n\n      // 调用本类更新方法\n      this.updateUser(values);\n\n    })\n  }\n\n  updateUser = async (user) => {\n    const {\n      adminId,\n      token\n    } = this.props\n\n    try {\n      //调用更新 api\n      const res = await userService.update(\n        adminId,\n        token,\n        user\n      )\n      message.success('修改成功');\n      this.props.fetchUsers(adminId,token);\n      this.props.handleSubmit();\n    } catch (err) {\n      if (err.message === undefined) {\n        const errorMessage = '服务器出错啦，请耐心等待，麻烦很耐心的等待一年，谢谢'\n        this.props.authError(errorMessage)\n      }\n      if (!err.response) {\n        this.props.authError(err);\n      }\n      if (err.response.status === 401) {\n        const errorMessage = '您的登录已过期，请重新登录'\n        this.props.authError(errorMessage)\n      }\n      // 修改不成功\n      if (err.response.status === 400 || err.response.status === 404) {\n        const errorMessage = err.response.data.message\n        message.error(errorMessage)\n      }\n    }\n  }\n\n  render() {\n    const {\n      visible,\n      handleCancel,\n      form,\n      value\n    } = this.props\n\n    const {getFieldDecorator} = form;//字段\n    const userId = value ? value.userId : ''\n    const userName = value ? value.userName : ''\n    const passWord = value ? value.passWord : ''\n\n    return (\n      <Modal\n        visible={visible}\n        title=\"修改用户信息\"\n        okText=\"修改\"\n        cancelText=\"取消\"\n        onCancel={handleCancel}\n        onOk={this.handleSubmit}\n      >\n        <Form layout=\"vertical\">\n          <FormItem label=\"id\">\n            {getFieldDecorator('userId', {\n              initialValue: userId\n            })(\n              <Input type=\"text\" disabled/>\n            )}\n          </FormItem>\n          <FormItem label=\"用户账号\">\n            {getFieldDecorator('userName', {\n              initialValue: userName\n            })(\n              <Input type=\"text\" disabled/>\n            )}\n          </FormItem>\n          <FormItem label=\"密码\">\n            {getFieldDecorator('passWord', {\n              rules: [{\n                required: true,\n                message: '请输入密码'\n              }, {\n                max: 30,\n                min: 1,\n                message: '用户密码不能超过30个字符'\n              }],\n              initialValue: passWord\n            })(\n              <Input type=\"text\"/>\n            )}\n          </FormItem>\n        </Form>\n      </Modal>\n    )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Users/UpdatePassWord.js"],"sourceRoot":""}