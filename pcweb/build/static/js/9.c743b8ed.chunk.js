webpackJsonp([9],{"+yAI":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=e.type,r=e.className,n=e.prefixCls,u=e.children,l=(0,s.default)(r,n+"-body",a({},n+"-light","light"===t));return o.default.createElement("div",{className:l},u)}Object.defineProperty(t,"__esModule",{value:!0});var l=r("GiK3"),o=n(l),d=r("KSGD"),i=n(d),f=r("HW6M"),s=n(f);u.defaultProps={prefixCls:"panel"},u.propTypes={type:i.default.string,className:i.default.string},t.default=u},"7jZi":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t,r=e.status,n=e.prefixCls,u=e.className,l="";l=0===r?"\u672a\u53d1\u8d27":1===r?"\u914d\u9001\u4e2d":2===r?"\u5df2\u5b8c\u6210":3===r?"\u9000\u6b3e\u4e2d":-1===r?"\u9000\u6b3e\u6210\u529f":"\u9000\u6b3e\u5931\u8d25";var d=(0,s.default)(u,(t={},a(t,n+"-success",2===r),a(t,n+"-error",3===r),a(t,n+"-warning",0===r),a(t,""+n,1===r),t));return o.default.createElement("span",{className:d},l)}Object.defineProperty(t,"__esModule",{value:!0});var l=r("GiK3"),o=n(l),d=r("KSGD"),i=n(d),f=r("HW6M"),s=n(f);u.propTypes={status:i.default.number.isRequired},u.defaultProps={prefixCls:"status"},t.default=u},B8lY:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,d,i,f,s,c=r("0b0c"),p=n(c),m=r("IidI"),h=n(m),y=r("sRCy"),b=n(y),v=r("G3dI"),g=n(v),O=r("uuhB"),E=n(O),I=r("wgAv"),_=n(I),w=r("Wjgn"),C=n(w),x=r("XSlN"),j=n(x),P=r("PoSO"),R=n(P),S=r("NJOH"),D=n(S),T=r("37+n"),N=n(T),k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r("1szz"),r("du7Z"),r("mNLB"),r("Dp5J"),r("4yHo"),r("uMhn"),r("GPBq"),r("4WQ2"),r("ZYVT"),r("RWXa"),r("onAH");var M=r("GiK3"),G=n(M),K=r("RH2O"),q=r("KSGD"),H=n(q),A=r("z8xT"),F=n(A),Y=r("qI5z"),B=N.default.Item,W=(D.default.Option,R.default.Group),z=R.default.Button,Z=(o=(0,K.connect)(function(e){return{wait:e.orders.wait,dispatching:e.orders.dispatching}}),d=N.default.create(),o(i=d((s=f=function(e){function t(){var e,r,n,l;a(this,t);for(var o=arguments.length,d=Array(o),i=0;i<o;i++)d[i]=arguments[i];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||("all"===t.categoryId&&(t.categoryId=null),n.props.handleSelectorChange(t))})},n.handleReset=function(){n.props.form.setFieldsValue({orderId:void 0,userName:"",createTime:void 0})},n.onDateChange=function(e,t){console.log(e,t)},n.handleStatusChange=function(e){n.props.handleStatusChange(e.target.value)},l=r,u(n,l)}return l(t,e),k(t,[{key:"render",value:function(){var e=this.props,t=e.form,r=e.status,n=e.dispatching,a=e.wait,u=t.getFieldDecorator;return G.default.createElement(F.default.Header,{type:"light"},G.default.createElement(j.default,null,G.default.createElement(j.default.Item,null,"\u4e3b\u9875"),G.default.createElement(j.default.Item,null,"\u8ba2\u5355\u7ba1\u7406"),G.default.createElement(j.default.Item,null,"\u8ba2\u5355\u914d\u9001")),G.default.createElement("h2",null,"\u8ba2\u5355\u914d\u9001",G.default.createElement(W,{onChange:this.handleStatusChange,defaultValue:r,style:{float:"right"}},G.default.createElement(C.default,{dot:a>0},G.default.createElement(z,{value:Y.ORDER_WAIT},"\u5f85\u53d1\u8d27")),G.default.createElement(C.default,{dot:n>0},G.default.createElement(z,{value:Y.ORDER_DISPATCHING},"\u914d\u9001\u4e2d")))),G.default.createElement("p",null,"\u7ba1\u7406\u8ba2\u5355\u7684\u914d\u9001\uff0c\u67e5\u770b\u5f85\u53d1\u8d27\u548c\u914d\u9001\u4e2d\u8ba2\u5355\uff0c\u53ef\u4ee5\u5bf9\u8ba2\u5355\u8fdb\u884c\u53d1\u8d27\u5904\u7406\u548c\u786e\u8ba4\u9001\u8fbe\u5904\u7406\u3002"),G.default.createElement(_.default,{style:{marginTop:"10px",marginBottom:"30px"}}),G.default.createElement(N.default,{className:"form-search",onSubmit:this.handleSubmit},G.default.createElement(p.default,{gutter:24},G.default.createElement(g.default,{span:4},G.default.createElement(B,{label:"id"},u("orderId")(G.default.createElement(E.default,{type:"number"})))),G.default.createElement(g.default,{span:5},G.default.createElement(B,{className:"form-flex-wrapper",label:"\u7528\u6237\u540d\u79f0"},u("userName",{initialValue:""})(G.default.createElement(E.default,{type:"text"})))),G.default.createElement(g.default,{span:7},G.default.createElement(B,{label:"\u65f6\u95f4:"},u("createTime",{initialValue:""})(G.default.createElement(b.default.RangePicker,{style:{marginLeft:"10px"}})))),G.default.createElement(g.default,{span:8,style:{textAlign:"right"}},G.default.createElement(h.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22"),G.default.createElement(_.default,{type:"vertical"}),G.default.createElement(h.default,{type:"dashed",onClick:this.handleReset},"\u91cd\u7f6e")))))}}]),t}(G.default.Component),f.propTypes={handleSelectorChange:H.default.func.isRequired,handleStatusChange:H.default.func.isRequired,status:H.default.number.isRequired},i=s))||i)||i);t.default=Z},cmi5:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var l=t[a](u),o=l.value}catch(e){return void r(e)}if(!l.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,i,f,s,c=r("oRCo"),p=n(c),m=r("yF52"),h=n(m),y=r("IidI"),b=n(y),v=r("Xxa5"),g=n(v),O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r("JKaW"),r("Zjie"),r("du7Z");var E=r("GiK3"),I=n(E),_=r("RH2O"),w=r("KSGD"),C=n(w),x=r("z8xT"),j=n(x),P=r("BCOr"),R=r("0xDb"),S=r("B8lY"),D=n(S),T=r("7jZi"),N=n(T),k=r("mrKe"),M=n(k),G=r("fZNG"),K=n(G),q=r("qI5z"),H=(d=(0,_.connect)(function(e){return{adminId:e.auth.admin.adminId,token:e.auth.admin.token,orders:e.orders.orders,isFetching:e.orders.isFetchingOrders}},function(e){return{loadOrders:function(t,r,n){e((0,P.getAllOrders)(t,r,n))},updateOrderStatus:function(t,r,n,a){e((0,P.updateOrderStatus)(t,r,n,a))}}}))((s=f=function(e){function t(){var e,r,n,o,d=this;u(this,t);for(var i=arguments.length,f=Array(i),s=0;s<i;s++)f[s]=arguments[s];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),n.state={filteredInfo:null,sortedInfo:null,status:q.ORDER_WAIT},n.loadOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props,r=t.adminId,a=t.token,u=n.state.status,l=Object.assign({},{status:u},e);n.props.loadOrders(r,a,l)},n.handleTableChange=function(e,t,r){n.setState({filteredInfo:t,sortedInfo:r})},n.handleConfirmDispatch=function(){var e=a(g.default.mark(function e(t){var r,a,u;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.adminId,u=r.token,e.next=3,K.default.update(a,u,t,q.ORDER_FINISH);case 3:n.loadOrders();case 4:case"end":return e.stop()}},e,d)}));return function(t){return e.apply(this,arguments)}}(),n.handleDispatch=function(){var e=a(g.default.mark(function e(t){var r,a,u;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.adminId,u=r.token,e.next=3,K.default.update(a,u,t,q.ORDER_DISPATCHING);case 3:n.loadOrders();case 4:case"end":return e.stop()}},e,d)}));return function(t){return e.apply(this,arguments)}}(),n.handleStatusChange=function(e){n.setState({status:e}),n.loadOrders({status:e})},n.onSelectorChange=function(e){var t=e.createTime?e.createTime[0].format("YYYY-MM-DD"):null,r=e.createTime?e.createTime[1].format("YYYY-MM-DD"):null,a=e.userName&&""!==e.userName?e.userName:null,u=e.orderId?parseInt(e.orderId):null,l={start:t,end:r,userName:a,orderId:u};n.loadOrders(l)},n.renderExpanded=function(e){var t=e.address.city+e.address.address+e.address.streetNumber,r=t+"   "+e.address.consignee+"   "+e.address.phone;return I.default.createElement("div",null,I.default.createElement("p",null,"\u7528\u6237\u6536\u8d27\u5730\u5740\uff1a ",r),I.default.createElement("h4",null,"\u5546\u54c1\uff1a"),e.orderDetails.length>0?e.orderDetails.map(function(e){return I.default.createElement(M.default,{key:e.goodId,detail:e})}):null)},o=r,l(n,o)}return o(t,e),O(t,[{key:"componentDidMount",value:function(){this.loadOrders()}},{key:"render",value:function(){var e=this,t=this.props.isFetching,r=this.props.orders,n=this.state,a=n.filteredInfo,u=n.sortedInfo;a=a||{},u=u||{};var l=[{title:"id",dataIndex:"orderId",key:"orderId",sorter:function(e,t){return e.orderId-t.orderId},sortOrder:"orderId"===u.columnKey&&u.order},{title:"\u7528\u6237id",dataIndex:"userId",key:"userId"},{title:"\u603b\u4ef7",dataIndex:"amount",key:"amount"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t){return I.default.createElement(N.default,{status:e})},filters:[{text:"\u672a\u53d1\u8d27",value:"0"},{text:"\u914d\u9001\u4e2d",value:"1"}],filteredValue:a.status||null,onFilter:function(e,t){return t.status===parseInt(e,10)}},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"createTime",render:function(e,t){return I.default.createElement("span",null,(0,R.dateFormat)(new Date(e),"yyyy-MM-dd hh:ss"))}},{title:"\u5907\u6ce8",dataIndex:"remarks",key:"remarks"},{title:"\u64cd\u4f5c",key:"action",render:function(t,r){return r.status===q.ORDER_DISPATCHING?I.default.createElement(b.default,{type:"primary",onClick:function(){return e.handleConfirmDispatch(r.orderId)}},"\u786e\u8ba4\u9001\u8fbe"):I.default.createElement(b.default,{type:"primary",onClick:function(){return e.handleDispatch(r.orderId)}},"\u53d1\u8d27")}}];return I.default.createElement(p.default.Content,null,I.default.createElement(j.default,{minus:!0},I.default.createElement(D.default,{handleSelectorChange:this.onSelectorChange,status:this.state.status,handleStatusChange:this.handleStatusChange}),I.default.createElement(j.default.Body,{type:"light"},I.default.createElement(h.default,{rowKey:function(e){return e.orderId},dataSource:r,expandedRowRender:this.renderExpanded,columns:l,loading:t,bordered:!0,onChange:this.handleTableChange}))))}}]),t}(I.default.Component),f.propTypes={adminId:C.default.number.isRequired,token:C.default.string.isRequired,orders:C.default.array.isRequired,isFetching:C.default.bool.isRequired,loadOrders:C.default.func.isRequired},i=s))||i;t.default=H},m2On:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e){var t=e.children,r=e.className,n=e.type,l=e.prefixCls,o=u(e,["children","className","type","prefixCls"]),i=(0,c.default)(r,l+"-header",a({},l+"-light","light"===n));return d.default.createElement("header",Object.assign({className:i},o),t)}Object.defineProperty(t,"__esModule",{value:!0});var o=r("GiK3"),d=n(o),i=r("KSGD"),f=n(i),s=r("HW6M"),c=n(s);l.defaultProps={prefixCls:"panel"},l.propTypes={type:f.default.string,className:f.default.string},t.default=l},mrKe:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.detail;return f.default.createElement(l.default,null,f.default.createElement(d.default,{span:7},"\u7f16\u53f7\uff1a ",t.goodId),f.default.createElement(d.default,{span:7},"\u540d\u79f0\uff1a",t.good.goodName),f.default.createElement(d.default,{span:7},"\u6570\u91cf\uff1a",t.count))}Object.defineProperty(t,"__esModule",{value:!0});var u=r("0b0c"),l=n(u),o=r("G3dI"),d=n(o);r("1szz"),r("Dp5J");var i=r("GiK3"),f=n(i),s=r("KSGD"),c=n(s);a.propTypes={detail:c.default.shape({goodId:c.default.number.isRequired,good:c.default.shape({goodName:c.default.string.isRequired}),count:c.default.number.isRequired}).isRequired},t.default=a},stit:function(e,t,r){"use strict";function n(e){var t=e.children;return u.default.createElement("header",{className:"panel-footer"},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=r("GiK3"),u=function(e){return e&&e.__esModule?e:{default:e}}(a)},z8xT:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,f,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r("GiK3"),p=n(c),m=r("HW6M"),h=n(m),y=r("m2On"),b=n(y),v=r("+yAI"),g=n(v),O=r("stit"),E=n(O),I=(f=i=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,r=e.children,n=e.minus,l=u(e,["prefixCls","children","minus"]),o=(0,h.default)(""+t,a({},t+"-minus",n));return p.default.createElement("div",Object.assign({className:o},l),r)}}]),t}(p.default.Component),i.Header=b.default,i.Body=g.default,i.Footer=E.default,i.defaultProps={prefixCls:"panel"},f);t.default=I}});
//# sourceMappingURL=9.c743b8ed.chunk.js.map